<!doctype html>
<html>
<head lang="ko">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>TEST D3 - sample.divChartAddLabel</title>
  <meta name="description" content="">
  <style type="text/css">
    @charset "utf-8";
    body {
      font-family: verdana, Arial, applegothic, sans-serif;
      font-weight: normal;
      font-style: normal;
    }

    div.bar {
      margin-right:5px;
      display:inline-block;
      width: 20px;
      height: 75px;
      background-color: #f00;
    }
  </style>
  <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
</head>

<body>
  <div class="wrap">
  </div>

  <script type="text/javascript">
    //+ 1. svg chart drawing
    var dataset = [ 5, 10, 13, 19, 21, 25, 22, 18, 19, 13, 11, 12, 15, 20, 23, 25 ],
        width = 400,
        height = 200;

    var svg = d3.select('.wrap')
    .append('svg')
    .attr('width', width)
    .attr('height', height);

    var circles = svg.selectAll('rect')
    .data(dataset)
    .enter()
    .append('rect')
    .attr('x', function(d, i) {
      return i * (width / dataset.length);
    })
    .attr('y', function(d) {
      return height - d * 4;
    })
    .attr('width', 20)
    .attr('height', function(d) {
      return d * 4
    });

    //+1. label 더하기
    svg.selectAll('text')
    .data(dataset)
    .enter()
    .append('text')
    .text(function(d) {
      return d;
    })
    .attr('x', function(d, i) {
      return i * (width / dataset.length);
    })
    .attr('y', function(d) {
      return height - d * 4;
    })

    .attr('font-family', 'sans-serif')
    .attr('font-size', 11)
    .attr('fill', 'red');

  </script>
</body>
</html>
